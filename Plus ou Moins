import random

def AskInt(sMessage: str) -> int:
    while True:
        try:
            print(sMessage)
            iInput: int = int(input())
            return iInput
         
        except ValueError:
            print("Veuillez entrer des nombres valides.")
        

borne_min: int = AskInt("Veuillez entrer la borne minimale")
borne_max: int = AskInt("Veuillez entrer la borne maximale")




def jeu_de_devinette():
    nombre_secret = random.randint(borne_min, borne_max)

    essais_max = 10
    essais = 0

    while essais < essais_max:
        try:
            
            essais += 1
            guess: int = AskInt("Veuillez deviner le nombre mystère")
            if guess == nombre_secret:
                print(f"Bravo ! Vous avez deviné le nombre en {essais} essais.")
                break
            elif guess < nombre_secret:
                print("Plus grand. Essayez à nouveau.")
            else:
                print("Plus petit. Essayez à nouveau.")
        except ValueError:
            print("Veuillez entrer un nombre valide.")
            AskInt()

    else:
        print(f"Dommage ! Vous avez dépassé le nombre maximum d'essais. Le nombre secret était {nombre_secret}.")

    rejouer = input("Voulez-vous jouer à nouveau ? (Oui/Non) : ").lower()
    if rejouer == "oui":
        jeu_de_devinette()
    else:
        print("Merci d'avoir joué !")
        exit()

jeu_de_devinette()
